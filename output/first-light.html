<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>First Light</title>
    <link rel="stylesheet" href="/theme/css/main.css">
</head>
<body>
  <header class="site-header" role="banner">

    <div class="wrapper"><a class="site-title" rel="author" href="/">Dean Nevins</a><nav class="site-nav">
          <input type="checkbox" id="nav-trigger" class="nav-trigger" />
          <label for="nav-trigger">
            <span class="menu-icon">
              <svg viewBox="0 0 18 15" width="18px" height="15px">
                <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
              </svg>
            </span>
          </label>
  
          <div class="trigger">
            <a class="page-link" href="/pages/about.html">About</a>
            <a class="page-link" href="/category/Blog.html">Blog</a>
            <a class="page-link" href="/category/Clock.html">Clock</a>
            <a class="page-link" href="/category/Pinball.html">Pinball</a>
          </div>
        </nav>
      </div>
  </header>
    <main class="page-content" aria-label="Content">
<div class="wrapper">
    <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
        <header class="post-header">
            <h1 class="post-title p-name" itemprop="name headline">First Light</h1>
            <div class="opposite-sides post-meta">
                    <time class="opposite-sides left" datetime="2015-02-24 00:00:00-08:00" itemprop="datePublished">February 2, 2015
                    </time> 
                    <div class="opposite-sides right">Category: Pinball</div>
            </div>
        </header>

        <!-- Article stream navigation top -->
        <div class="article-stream">

            <div class="article-steam left">
                <a href="/driving-the-max6957.html">
                    << Driving the MAX6957
                </a>
            </div>
            
            <div class="article-steam right">
                <a href="/five-volt-interlude.html">
                    Five Volt Interlude >>
                </a>
            </div>
            
        </div>

        <!-- Article content -->
        <div class="post-content e-content" itemprop="articleBody">
            <p>I've always loved pinball machines and I really love electronics. So, the obvious tie-in would be to
 combine the two! I've decided to embark upon creating my own pinball machine from the ground up!
 I want to do everything but I might be willing to compromise on the cabinet since I suck at
 woodworking. I can fix my house but a <a href="http://www.dictionaryofconstruction.com/definition/finish-carpentry.html">finish carpenter</a> I'll never be. However, I'm not going
 to compromise on the electronics since that's what I love to do.</p>
<p>This project is going to take awhile (I'm thinking at least two years) and this is for fun so I'm
not all worked up about the time schedule. I do have to fit in time to play <a href="http://www.destinythegame.com">Destiny</a> after all.
There are a lot of different approaches to pinball design with a lot of the more modern machines
cramming LED dot displays into the backbox of the machine. I'm not fond of this approach because
it's distracting for a player and takes their attention off of the playfield. Ergo lame. I like the
more old school approaches with just the LED panels. So, the first thing I want to do is build a
display!</p>
<p>I think that I want to use a small computer to control the display but I'm not sure exactly what I
want to use. I'm going to start out with a <a href="http://www.raspberrypi.org">Raspberry Pi</a> as the control computer just so I can
prototype some approaches. I bought a Raspberry Pi 1 B (which promptly went obsolete and was
replaced by the Raspberry Pi 2 Model B :^}) and a breakout cable and a case all from <a href="https://www.adafruit.com">Adafruit</a>.
I've got it all hooked up and I'm dying to play with it. Take a look!</p>
<p><img alt="Raspberry Pi Setup" src="/images/bare_pi.jpg"></p>
<p>I got it up and running very quickly just by following the directions on the Adafruit site. Very
easy. I then setup a VNC connection to my mac after my initial SSH into the Pi. I might post that
later... I can now access the Raspberry Pi over a graphical user interface and do some slick
development work (hopefully). Nice!</p>
<p>However, this is all a distraction for what I want to do which is to use python to flip a bit on
the Pi GPIO bus. I downloaded the awesome <a href="https://pypi.python.org/pypi/RPi.GPIO">RPi.GPIO 0.5.9</a> package. The best part was that after
I downloaded it I found out that I just had to use the simple commands:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt-get<span class="w"> </span>update
sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>python-rpi.gpio<span class="w"> </span>python3-rpi.gpio
</code></pre></div>

<p>and bam! it is installed! All hail Hypnotoad!</p>
<p>I started to play around with the GPIO package in python but I couldn't do it interactively from
idle3 (I like Python 3, foo on your Python 2) since I wasn't running idle3 as root. I fired up
LeafPad on the Pi and wrote a small script.</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/python3</span>
import<span class="w"> </span>RPi.GPIO<span class="w"> </span>as<span class="w"> </span>GPIO

GPIO.setmode<span class="o">(</span>GPIO.BOARD<span class="o">)</span>
GPIO.setup<span class="o">(</span><span class="m">21</span>,<span class="w"> </span>GPIO.OUT<span class="o">)</span>
GPIO.output<span class="o">(</span><span class="m">21</span>,<span class="w"> </span>GPIO.HIGH<span class="o">)</span>
</code></pre></div>

<p>I ran the program</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>./firstlight.py
</code></pre></div>

<p>and then took a voltmeter to measure the output voltage fulling expecting something around 3.3 V.
Nothing. Well, a bunch of changing voltages that look like in input. I then realized I needed to
expand my test code and I had grand visions of an interactive system that you could use to control
the GPIO. Fortunately, before starting that project I found <a href="https://code.google.com/p/webiopi/">WebIOPi</a> which is a slick UI for
doing GPIO.</p>
<p>I tried to grab it using the Midori web broswer but that was a slow horrid mess of bad requests and
the like. I then grabbed it using wget unpacked it and then installed it.</p>
<div class="highlight"><pre><span></span><code>wget<span class="w"> </span>http://sourceforge.net/projects/webiopi/files/WebIOPi-0.7.0.tar.gz
tar<span class="w"> </span>-xvf<span class="w"> </span>WebIOPi-0.7.0.tar.gz
<span class="nb">cd</span><span class="w"> </span>WebIOPi-0.7.0.tar.gz
sudo<span class="w"> </span>./setup.sh
</code></pre></div>

<p>Quite a bit of time passed for it to install WebIOPi becuase it made a bunch of items and installed
the software for both versions of Python on my system. YMMV. Once installed I ran WebIOPi on the Pi
using</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>webiopi
</code></pre></div>

<p>It told me to point my web browser to an internal address which I typed into my Safari. A
serviceable web interface appeared! I jumped over the the pin control and clicked on some pins. I
rapidly realized that WebIOPi doesn't work for all of the pins of my Pi Model 1 b+, only the pins
present on the earlier boards. This was proved when I manipulated some of the higher numbered pins
and that worked fine. So, back to scripting I went. Once I realized that the numbers present on my
<a href="http://www.adafruit.com/products/2028">Adafruit T-Cobbler Plus</a> were channels from the Broadcom chip and that I needed to use the
<strong>GPIO.setmode(GPIO.BCM)</strong> setup everything worked fine.</p>
<p>The final, working script was</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/usr/bin/python3</span>
import<span class="w"> </span>RPi.GPIO<span class="w"> </span>as<span class="w"> </span>GPIO

GPIO.setmode<span class="o">(</span>GPIO.BCM<span class="o">)</span>
GPIO.setup<span class="o">(</span><span class="m">21</span>,<span class="w"> </span>GPIO.OUT<span class="o">)</span>
GPIO.output<span class="o">(</span><span class="m">21</span>,<span class="w"> </span>GPIO.HIGH<span class="o">)</span>
</code></pre></div>

<p>That set labeled "#21" on my <a href="http://www.adafruit.com/products/2028">Adafruit T-Cobbler Plus</a> to high! Finally, first light on the
board!</p>
<p>Now for some really fun stuff.</p>
        </div>

        <a class="u-url" href="/projects/clock/2025/03/04/introducing-esp32-s3.html" hidden></a>

        <!-- Article stream navigation bottom -->
        <!-- Article stream navigation top -->
        <div class="article-stream">

            <div class="article-steam left">
                <a href="/driving-the-max6957.html">
                    << Driving the MAX6957
                </a>
            </div>
            
            <div class="article-steam right">
                <a href="/five-volt-interlude.html">
                    Five Volt Interlude >>
                </a>
            </div>

    </article>

</div>
    </main>
    <footer class="site-footer h-card">
        <data class="u-url" href="/"></data>

        <div class="wrapper">
            <div class="footer-col-wrapper">
                <div class="footer-col footer-col-1">
                    <ul class="contact-list">
                        <li class="p-name">Dean Nevins</li>
                    </ul>
                </div>

                <div class="footer-col footer-col-2">
                    <ul class="social-media-list">
                        <li>
                            <a href="https://github.com/devnevins">
<svg width="18px" height="18px" style="fill: #828282;" viewBox="0 0 21 21" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="Dribbble-Light-Preview" transform="translate(-140.000000, -7559.000000)" fill="#000000">
            <g id="icons" transform="translate(56.000000, 160.000000)">
                <path d="M94,7399 C99.523,7399 104,7403.59 104,7409.253 C104,7413.782 101.138,7417.624 97.167,7418.981 C96.66,7419.082 96.48,7418.762 96.48,7418.489 C96.48,7418.151 96.492,7417.047 96.492,7415.675 C96.492,7414.719 96.172,7414.095 95.813,7413.777 C98.04,7413.523 100.38,7412.656 100.38,7408.718 C100.38,7407.598 99.992,7406.684 99.35,7405.966 C99.454,7405.707 99.797,7404.664 99.252,7403.252 C99.252,7403.252 98.414,7402.977 96.505,7404.303 C95.706,7404.076 94.85,7403.962 94,7403.958 C93.15,7403.962 92.295,7404.076 91.497,7404.303 C89.586,7402.977 88.746,7403.252 88.746,7403.252 C88.203,7404.664 88.546,7405.707 88.649,7405.966 C88.01,7406.684 87.619,7407.598 87.619,7408.718 C87.619,7412.646 89.954,7413.526 92.175,7413.785 C91.889,7414.041 91.63,7414.493 91.54,7415.156 C90.97,7415.418 89.522,7415.871 88.63,7414.304 C88.63,7414.304 88.101,7413.319 87.097,7413.247 C87.097,7413.247 86.122,7413.234 87.029,7413.87 C87.029,7413.87 87.684,7414.185 88.139,7415.37 C88.139,7415.37 88.726,7417.2 91.508,7416.58 C91.513,7417.437 91.522,7418.245 91.522,7418.489 C91.522,7418.76 91.338,7419.077 90.839,7418.982 C86.865,7417.627 84,7413.783 84,7409.253 C84,7403.59 88.478,7399 94,7399" id="github-[#142]"></path>
            </g>
        </g>
    </g>
</svg>                                <span class="username">devnevins</span>
                            </a>
                        </li>
                    </ul>
                </div>

                <div class="footer-col footer-col-3">
                    <p>My space on the internet. Not myspace; you know what I mean. Projects, opinions, and such.</p>
                </div>
            </div>

        </div>

    </footer>
</body>

</html>